# å“ä¿¡å·¥å‹™ç³»çµ± - å‰ç«¯

**ç‰ˆæœ¬**: v2.4.0  
**æ›´æ–°æ™‚é–“**: 2025-06-27  
**éƒ¨ç½²å¹³å°**: Vercel

---

## ğŸ“‹ å°ˆæ¡ˆæ¦‚è¿°

å“ä¿¡å·¥å‹™ç³»çµ±çš„å‰ç«¯ç•Œé¢ï¼Œæä¾›å·¥åœ°æ—¥å ±ç®¡ç†ã€ç…§ç‰‡ä¸Šå‚³ã€å·¥ç¨‹é€²åº¦è¿½è¹¤ç­‰åŠŸèƒ½ã€‚æ”¯æ´ LINE LIFF æ•´åˆï¼Œè®“ç¾å ´äººå“¡å¯é€é LINE æ‡‰ç”¨ç¨‹å¼ç›´æ¥ä½¿ç”¨ç³»çµ±åŠŸèƒ½ã€‚

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹

```
å‰ç«¯ (Vercel) â†â†’ å¾Œç«¯ (Railway) â†â†’ è³‡æ–™åº« (Supabase)
```

## ğŸ“ æª”æ¡ˆçµæ§‹

```
â”œâ”€â”€ assets/                # éœæ…‹è³‡æº
â”‚   â”œâ”€â”€ css/              # æ¨£å¼æª”æ¡ˆ
â”‚   â”‚   â”œâ”€â”€ common.css    # å…±ç”¨æ¨£å¼
â”‚   â”‚   â”œâ”€â”€ components.css # çµ„ä»¶æ¨£å¼
â”‚   â”‚   â””â”€â”€ pages/        # é é¢å°ˆç”¨æ¨£å¼
â”‚   â””â”€â”€ js/               # JavaScript æª”æ¡ˆ
â”‚       â”œâ”€â”€ api.js        # API å®¢æˆ¶ç«¯
â”‚       â”œâ”€â”€ auth.js       # èªè­‰ç®¡ç†
â”‚       â”œâ”€â”€ components/   # UI çµ„ä»¶
â”‚       â”œâ”€â”€ pages/        # é é¢é‚è¼¯
â”‚       â””â”€â”€ utils/        # å·¥å…·å‡½æ•¸
â”œâ”€â”€ pages/                # é é¢æª”æ¡ˆ
â”‚   â”œâ”€â”€ report-input.html # æ—¥å ±è¼¸å…¥é é¢
â”‚   â”œâ”€â”€ boss_dashboard.html # ä¸»ç®¡å„€è¡¨æ¿
â”‚   â””â”€â”€ ...              # å…¶ä»–æ¥­å‹™é é¢
â””â”€â”€ line-entry.html       # LINE LIFF å…¥å£é é¢
```

## ğŸ¯ ä¸»è¦åŠŸèƒ½

### ğŸ” ç”¨æˆ¶èªè­‰
- JWT Token èªè­‰
- è§’è‰²æ¬Šé™æ§åˆ¶ (admin/boss/site-manager/client)
- è‡ªå‹•ç™»å…¥ç‹€æ…‹ç®¡ç†

### ğŸ“Š æ—¥å ±ç®¡ç†
- æ—¥å ±å»ºç«‹èˆ‡ç·¨è¼¯
- å·¥åœ°é¸æ“‡å’Œæ¬Šé™æ§åˆ¶
- å·¥ä½œé …ç›®å‹•æ…‹ç®¡ç†
- å³æ™‚ç‹€æ…‹åŒæ­¥

### ğŸ“¸ ç…§ç‰‡ç®¡ç†
- å¤šæª”æ¡ˆä¸Šå‚³
- åœ–ç‰‡é è¦½å’Œç¸®åœ–
- ç…§ç‰‡åˆ†é¡å’Œæ¨™è¨»
- æ‰¹æ¬¡è™•ç†æ”¯æ´

### ğŸ“± LINE LIFF æ•´åˆ
- è·¨ Channel èº«ä»½é©—è­‰
- Rich Menu åŠŸèƒ½æ•´åˆ
- è¡Œå‹•è£ç½®å„ªåŒ–ä»‹é¢
- å³æ™‚è¨Šæ¯äº’å‹•

## ğŸŒ éƒ¨ç½²è³‡è¨Š

### é–‹ç™¼ç’°å¢ƒ
```bash
# æœ¬åœ°é–‹ç™¼ä¼ºæœå™¨
python3 -m http.server 8080

# æˆ–ä½¿ç”¨ Node.js
npx http-server -p 8080
```

### ç”Ÿç”¢ç’°å¢ƒ
- **å¹³å°**: Vercel
- **è‡ªå‹•éƒ¨ç½²**: GitHub Push è§¸ç™¼
- **URL**: https://pin-xin-frontend.vercel.app
- **SSL**: è‡ªå‹•é…ç½®

## ğŸ”§ API é€£ç·šé…ç½®

ç³»çµ±æœƒæ ¹æ“šåŸ·è¡Œç’°å¢ƒè‡ªå‹•é¸æ“‡ API ç«¯é»ï¼š

```javascript
// é–‹ç™¼ç’°å¢ƒ
http://localhost:3000/api

// ç”Ÿç”¢ç’°å¢ƒ  
https://pin-xin-backend.railway.app/api
```

## ğŸ“± LINE LIFF é…ç½®

- **LIFF ID**: `2007637866-8KOKBryL`
- **å…¥å£é é¢**: `/line-entry.html`
- **ä¸»è¦åŠŸèƒ½é é¢**: `/pages/report-input.html`
- **URL åƒæ•¸æ”¯æ´**: `?from=richmenu&page=input`

## ğŸ› ï¸ é–‹ç™¼æŒ‡å—

### æ–°å¢é é¢
1. åœ¨ `pages/` ç›®éŒ„å»ºç«‹ HTML æª”æ¡ˆ
2. åœ¨ `assets/css/pages/` å»ºç«‹å°æ‡‰æ¨£å¼
3. åœ¨ `assets/js/pages/` å»ºç«‹é é¢é‚è¼¯
4. æ›´æ–°å°èˆªé¸å–® (`navigation.js`)

### API å‘¼å«ç¯„ä¾‹
```javascript
// åˆå§‹åŒ– API å®¢æˆ¶ç«¯
const api = new ApiClient();

// ç™»å…¥
const response = await api.login(username, password);

// å–å¾—æ—¥å ±åˆ—è¡¨
const reports = await api.getDailyReports();

// ä¸Šå‚³ç…§ç‰‡
const result = await api.uploadPhoto(file, reportId);
```

### èªè­‰æª¢æŸ¥
```javascript
// æª¢æŸ¥ç™»å…¥ç‹€æ…‹
if (!AuthManager.isLoggedIn()) {
    AuthManager.showLoginModal();
    return;
}

// æª¢æŸ¥æ¬Šé™
if (!AuthManager.hasPermission('CREATE_REPORT')) {
    alert('æ¬Šé™ä¸è¶³');
    return;
}
```

## ğŸ§ª æ¸¬è©¦

### åŠŸèƒ½æ¸¬è©¦
- æ‰€æœ‰é é¢è¼‰å…¥æ­£å¸¸
- API é€£ç·šåŠŸèƒ½æ­£ç¢º
- èªè­‰æµç¨‹å®Œæ•´
- LIFF æ•´åˆæ¸¬è©¦

### ç€è¦½å™¨æ”¯æ´
- Chrome 90+
- Safari 14+
- Firefox 88+
- LINE å…§å»ºç€è¦½å™¨

## ğŸ“ˆ æ•ˆèƒ½å„ªåŒ–

- CSS/JS æª”æ¡ˆå£“ç¸®
- åœ–ç‰‡è‡ªå‹•æœ€ä½³åŒ– (Vercel)
- CDN å…¨çƒåˆ†ç™¼
- å¿«å–ç­–ç•¥å„ªåŒ–

## ğŸ” å®‰å…¨æ€§

- XSS é˜²è­·
- CSRF Token é©—è­‰
- HTTPS å¼·åˆ¶é‡å°å‘
- å…§å®¹å®‰å…¨æ”¿ç­– (CSP)

## ğŸ“ æŠ€è¡“æ”¯æ´

- **æ¶æ§‹æ–‡æª”**: `/development-docs/`
- **API æ–‡æª”**: å¾Œç«¯å°ˆæ¡ˆ README
- **éƒ¨ç½²æŒ‡å—**: `/development-docs/DEPLOYMENT_ARCHITECTURE_PLAN.md`

---

**æœ€å¾Œæ›´æ–°**: 2025-06-27  
**ç¶­è­·åœ˜éšŠ**: å“ä¿¡å·¥å‹™ç³»çµ±é–‹ç™¼åœ˜éšŠ